.container
  md-dialog.dialog(:md-active.sync="languageDialog" :md-fullscreen="false")
    md-dialog-title Extra language
    .md-layout(md-dynamic-height)
      .md-layout-item
        | Oh, you studied hard and learned a language or two.
        br
        md-field
          label(for="extraLang") Extra language
          md-select(name="extraLang")
            md-option(value="engrish") Engrish
    md-dialog-actions
      md-button.md-primary(@click="languageDialog = false") Close
      md-button.md-primary(@click="languageDialog = false") Save
  
  h3(v-if="submitted") Thanks for adding your character!
  
  form(v-if="!submitted")
    .md-layout
      .md-layout-item.golden-border.md-xsmall-size-100.md-small-size-50
        .md-title Rejoice, for it is...
        md-field
          label Character Name
          md-input(v-model="characterName")

        md-field
          label(for="charRace") Race
          md-select(v-model="characterRace" name="charRace")
            md-option(v-for="(race, key) in races" v-bind:key="races[race]" v-bind:value="key") {{ race.title }}

        md-field(v-if="characterRace && races[characterRace].subraces")
          label(for="charSubrace") Subrace
          md-select(v-model="characterSubrace" name="charSubrace")
            md-option(v-for="(subrace, key) in races[characterRace].subraces" v-bind:key="races[characterRace].subraces[subrace]" v-bind:value="key") {{ subrace.title }}

        md-field
          label(for="charClass") Class
          md-select(v-model="characterClass" name="charClass")
            md-option(v-for="(aClass, key) in classes" v-bind:key="classes[aClass]" v-bind:value="key") {{ aClass.title }}

        md-field
          label(for="charBackground") Background
          md-select(v-model="characterBackground" name="charBackground")
            md-option(v-for="(background, key) in backgrounds" v-bind:key="backgrounds[background]" v-bind:value="key") {{ background.title }}

      template
        attributes(@updateCharacter="updateCharacter"
                   :strengthBonus="strengthBonus"
                   :dexterityBonus="dexterityBonus"
                   :constitutionBonus="constitutionBonus"
                   :intelligenceBonus="intelligenceBonus"
                   :wisdomBonus="wisdomBonus"
                   :charismaBonus="charismaBonus")
    
    .md-layout
      .md-layout.md-layout-item.md-small-size-100.golden-border
        .md-layout-item.md-xsmall-size-50.md-small-size-33
          md-icon security 
          |  AC: {{ characterDexterity | getModifier | add(10) }}
        .md-layout-item.md-xsmall-size-50.md-small-size-33
          md-icon favorite 
          |  Health: {{ healthBonusFromFeats }}
        .md-layout-item.md-xsmall-size-50.md-small-size-33
          md-icon track_changes 
          |  Initiative: {{ characterDexterity | getModifier | decoratePositive }}
        
        .md-layout-item.md-xsmall-size-50.md-small-size-33
          md-icon verified_user 
          |  Speed: {{ characterSpeed }}
        .md-layout-item.md-xsmall-size-50.md-small-size-33
          md-icon vibration 
          |  Awareness: {{ characterWisdom | getModifier | add(10) }}

        .md-layout-item.md-xsmall-size-100.md-small-size-100
          md-field
            md-icon colorize
            label Combat proficiencies
            md-textarea(v-model="characterProficienciesCombat" md-autogrow)

          md-field
            md-icon sms
            label Languages
            md-input(v-model="totalLanguages")

      .md-layout-item.md-small-size-100
        .md-layout-item.golden-border
          h3 Feats
          .feat-list
            .feat-list-item(v-for="feat in characterFeats")
              .feat-name {{ feats[feat].title }}
              .feat-description {{ feats[feat].description }}

    .md-layout.mb-1.md-xsmall-size-100.md-small-size-50
      .md-layout-item.golden-border
        h3 Skills
        .md-layout
          .md-layout-item
            .title-h4 Strength {{ characterStrength | getModifier | decoratePositive }}
            md-checkbox(v-model="characterSkills" value="athletics") Athletics
            
            .title-h4 Wisdom {{ characterWisdom | getModifier | decoratePositive }}
            md-checkbox(v-model="characterSkills" value="animalHandling") Animal Handling
            md-checkbox(v-model="characterSkills" value="medicine") Medicine
            md-checkbox(v-model="characterSkills" value="perception") Perception
            md-checkbox(v-model="characterSkills" value="survival") Survival
            
            .title-h4 Charisma {{ characterCharisma | getModifier | decoratePositive }}
            md-checkbox(v-model="characterSkills" value="deception") Deception
            md-checkbox(v-model="characterSkills" value="intimidation") Intimidation
            md-checkbox(v-model="characterSkills" value="performance") Performance
            md-checkbox(v-model="characterSkills" value="persuasion") Persuasion
          
          .md-layout-item
            .title-h4 Dexterity {{ characterDexterity | getModifier | decoratePositive }}
            md-checkbox(v-model="characterSkills" value="acrobatics") Acrobatics
            md-checkbox(v-model="characterSkills" value="sleightOfHand") Sleight of Hand
            md-checkbox(v-model="characterSkills" value="stealth") Stealth
              
            .title-h4 Intelligence {{ characterIntelligence | getModifier | decoratePositive }}
            md-checkbox(v-model="characterSkills" value="arcana") Arcana
            md-checkbox(v-model="characterSkills" value="history") History
            md-checkbox(v-model="characterSkills" value="investigation") Investigation
            md-checkbox(v-model="characterSkills" value="nature") Nature
            md-checkbox(v-model="characterSkills" value="religion") Religion
            md-checkbox(v-model="characterSkills" value="insight") Insight
          
        p {{ characterSkills }}
    
    .md-layout
      .md-layout-item.golden-border
        md-field
          md-icon fingerprint
          label Gold
          md-input(v-model="characterGold" type="number")

        md-field
          md-icon description
          label Equipment and loot
          md-textarea(v-model="characterItems" md-autogrow)

    .md-layout
      .md-layout-item
        md-button.md-primary.md-raised(type="button" @click="addToAPI") Сохранить
        md-button.md-primary.md-raised(@click="languageDialog = true") Open Dialog
